#
# WARNING: This file is auto generated. Changes might get lost.
#
# Please modify the template (github.com/ubtue/ub_tools/install/scripts/templates)
#

# Configuration for theme-specific resources:
AliasMatch ^/themes/([0-9a-zA-Z-_]*)/css/(.*)$ {{{VUFIND_HOME}}}/themes/$1/css/$2
AliasMatch ^/themes/([0-9a-zA-Z-_]*)/images/(.*)$ {{{VUFIND_HOME}}}/themes/$1/images/$2
AliasMatch ^/themes/([0-9a-zA-Z-_]*)/js/(.*)$ {{{VUFIND_HOME}}}/themes/$1/js/$2
<Directory ~ "^{{{VUFIND_HOME}}}/themes/([0-9a-zA-Z-_]*)/(css|images|js)/">
  <IfModule !mod_authz_core.c>
    Order allow,deny
    Allow from all
  </IfModule>
  <IfModule mod_authz_core.c>
    Require all granted
  </IfModule>
  AllowOverride All
</Directory>

# Configuration for general VuFind base:

<Directory {{{VUFIND_HOME}}}/public/>
  <IfModule !mod_authz_core.c>
    Order allow,deny
    Allow from all
  </IfModule>
  <IfModule mod_authz_core.c>
    Require all granted
  </IfModule>
  AllowOverride All
 
  RewriteEngine On
  RewriteBase /

  # Redirect www. to non www.
  RewriteCond %{HTTP_HOST} ^www\.(.*)$ [NC]
  RewriteRule ^(.*)$ http://%1/$1 [R=301,L]
  
{{{if forcessl httpd-vufind-ssl.inc.conf}}}

  RewriteCond %{REQUEST_FILENAME} -s [OR]
  RewriteCond %{REQUEST_FILENAME} -l [OR]
  RewriteCond %{REQUEST_FILENAME} -d
  RewriteRule ^.*$ - [NC,L]
  RewriteRule ^.*$ index.php [NC,L]
 
  php_value short_open_tag On
 
  # Uncomment this line to put VuFind into development mode in order to see more detailed messages:
  #SetEnv VUFIND_ENV development
 
  # This line points to the local override directory where you should place your customized files
  # to override VuFind core features/settings.  Set to blank string ("") to disable.
  SetEnv VUFIND_LOCAL_DIR {{{VUFIND_LOCAL_DIR}}}
 
  # This line specifies additional Zend Framework 2 modules to load after the standard VuFind module.
  # Multiple modules may be specified separated by commas.  This mechanism can be used to override
  # core VuFind functionality without modifying core code.
  SetEnv VUFIND_LOCAL_MODULES {{{modules}}}
</Directory>
