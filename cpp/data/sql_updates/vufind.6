CREATE TABLE IF NOT EXISTS vufind.tuefind_user_authorities (
    id INT UNSIGNED NOT NULL AUTO_INCREMENT,
    user_id INT NOT NULL,
    authority_id VARCHAR(255) NOT NULL,
    access_state ENUM('requested', 'granted'),
    PRIMARY KEY (id),
    UNIQUE KEY user_authority (authority_id),
    FOREIGN KEY (user_id) REFERENCES vufind.user(id) ON DELETE CASCADE
) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin;

ALTER TABLE vufind.user ADD tuefind_is_admin BOOLEAN NOT NULL DEFAULT FALSE;
